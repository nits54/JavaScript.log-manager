<html>
<head>
<title>Implementing Javascript Log</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
</head>
<body>
<h1>Implementing Javascript Log</h1>
<script>
(function($,window){

var defaultOpt={
              pro:{
			               show_log:false,
					   color:{
						           log:{
								        bc:'#cecece',   
								        fc:'black',
                                        bold:true   
								       },
								   warn:{
								        bc:'orange',   
								        fc:'black',
                                        bold:true   
								       },
								   error:{
								        bc:'red',   
								        fc:'black',
                                        bold:true
								       }	   
						        	   
						         }
						 },
              dev:{
			               show_log:true,
		   				   color:{
						           log:{
								        bc:'#cecece',   
								        fc:'black',
                                        bold:true										
								       },
								  warn:{
								        bc:'orange',   
								        fc:'black',
                                        bold:true																				
								       },
						          error:{
								        bc:'red',   
								        fc:'black',
                                        bold:true   
								       }
						           
						         }
			       },
			  mode:'dev',
			  color:true
			  
            };

			
function getStyle(color,errorType){

colorArray=Object.keys(color[errorType]);

var $string='';

if(colorArray.indexOf("bc")!= -1){
       $string += 'background-color:'+color[errorType].bc+';';	
}
if(colorArray.indexOf("bold")!= -1){
       $string += 'font-weight:bold;';	
}

if(colorArray.indexOf("fc")!= -1){
       $string += 'color:'+color[errorType].fc+';';	
}

return $string;
}

var prefixFillZero=function(str){

if(str<10){
str='0'+str;
}

return str;
}

var getCurrentDate=function(){

var monthNames = ["January", "February", "March", "April", "May", "June",
  "July", "August", "September", "October", "November", "December"
];

var d = new Date();

h=d.getHours();
m=d.getMinutes();
i=d.getSeconds();
date=d.getDate();

date=prefixFillZero(date);
h=prefixFillZero(h);
m=prefixFillZero(m);
i=prefixFillZero(i);


$date='['+d.getFullYear()+' '+date+' '+monthNames[d.getMonth()]+','+' '+h+':'+m+':'+i+'] ';
return $date;
}
			
//log [msg,mode,isColorEnable,mode proptery]
var fn_log_e=function(msg,mode,isColorEnable,mp,pre,post,repeat){

$date=getCurrentDate();
if(isColorEnable){
css=getStyle(mp.color,'log');
if(pre != undefined){
repNumber=repeat || 1;
  preT=pre.repeat(repNumber); 
 console.log("%c"+preT,css)
}
console.log($date+"%c"+msg,css)
if(post != undefined){
repNumber=repeat || 1;
  postT=post.repeat(repNumber); 
 console.log("%c"+postT,css)
}
}else{
if(pre != undefined){
  repNumber=repeat || 1;
  preT=pre.repeat(repNumber); 
 console.log(preT)
}
console.log($date+msg)
if(post != undefined){
 repNumber=repeat || 1;
  postT=post.repeat(repNumber); 
 console.log(postT)
}
}

}
//warn [msg,mode,isColorEnable,mode proptery]
var fn_warn_e=function(msg,mode,isColorEnable,mp,pre,post,repeat){

$date=getCurrentDate();
if(isColorEnable){
css=getStyle(mp.color,'warn');
if(pre != undefined){
repNumber=repeat || 1;
  preT=pre.repeat(repNumber); 
 console.log("%c"+preT,css)
}
console.log($date+"%c"+msg,css)
if(post != undefined){
repNumber=repeat || 1;
  postT=post.repeat(repNumber); 
 console.log("%c"+postT,css)
}
}else{
if(pre != undefined){
  repNumber=repeat || 1;
  preT=pre.repeat(repNumber); 
 console.log(preT)
}
console.warn($date+msg)
if(post != undefined){
 repNumber=repeat || 1;
  postT=post.repeat(repNumber); 
 console.log(postT)
}
}

}
//error [msg,mode,isColorEnable,mode proptery]
var fn_error_e=function(msg,mode,isColorEnable,mp,pre,post,repeat){

$date=getCurrentDate();
if(isColorEnable){
css=getStyle(mp.color,'error');
if(pre != undefined){
repNumber=repeat || 1;
  preT=pre.repeat(repNumber); 
 console.log("%c"+preT,css)
}
console.log($date+"%c"+msg,css)
if(post != undefined){
repNumber=repeat || 1;
  postT=post.repeat(repNumber); 
 console.log("%c"+postT,css)
}
}else{
if(pre != undefined){
  repNumber=repeat || 1;
  preT=pre.repeat(repNumber); 
 console.log(preT)
}
console.error($date+msg)
if(post != undefined){
 repNumber=repeat || 1;
  postT=post.repeat(repNumber); 
 console.log(postT)
}
}

}
			
function fn_NN_JS_Log(updateOpt){
var self=this;
self.newOpt=$.extend( true, defaultOpt, updateOpt );  
console.log(self);
  if('dev'==self.newOpt.mode){
    self.isLogEnable=self.newOpt.dev.show_log;
	self.mp=self.newOpt.dev;
  }else if('pro'==self.newOpt.mode){
	self.isLogEnable=self.newOpt.pro.show_log;
	//mp mode property
	self.mp=self.newOpt.pro;
  }else{
    console.error('Please select correct mode: dev, pro or you can make your own mode.');
	return false;
  }
  
self.prefix=null;
self.suffix=null;
self.repeat=null;  
self.log=function(msg){

if(self.isLogEnable){

  fn_log_e(msg,self.newOpt.mode,self.newOpt.color,self.mp,self.prefix,self.suffix,self.repeat);
}

};
self.warn=function(msg){

if(self.isLogEnable){

  fn_warn_e(msg,self.newOpt.mode,self.newOpt.color,self.mp,self.prefix,self.suffix,self.repeat);
}


};
self.error=function(msg){

if(self.isLogEnable){

  fn_error_e(msg,self.newOpt.mode,self.newOpt.color,self.mp,self.prefix,self.suffix,self.repeat);
}

};

 return self;
}



window.NN_JS_Log=function(updateOpt){
 return new fn_NN_JS_Log(updateOpt)
};

})(jQuery,window);

var NN_log_color=NN_JS_Log({color:true})
NN_log_color.prefix='prefixxx';
NN_log_color.repeat=null;
NN_log_color.suffix='suffixxx';
NN_log_color.log('Log');
NN_log_color.log('Log');
NN_log_color.warn('Warn');
NN_log_color.error('Error');
var NN_log_no_color=NN_JS_Log({color:false})
NN_log_no_color.prefix='prefixxx';
NN_log_no_color.repeat=null;
NN_log_no_color.suffix='suffixxx';

NN_log_no_color.log('Log');
NN_log_no_color.warn('Warn');
NN_log_no_color.error('Error');
</script>



</body>
</html>
